<%- include('header') %>

<body class="container">  
  <div class="forgot-password-container">
    <div class="forgot-password-content">
      <h1 class="welcome-text">Forgot Password</h1>
      <% if (typeof message !== 'undefined') { %>
        <div id="messageContainer" class="message"><%= message %></div>
      <% } %>
      <% if (typeof error !== 'undefined') { %>
        <div id="errorContainer" class="error"><%= error %></div>
      <% } %>
      <form id="forgotPasswordForm" action='' method="post" onsubmit="return validateForgotPasswordForm()" novalidate>
        <input type="email" placeholder="Email" class="input-field" name="email" required>
        <div id="emailError" class="error"></div>
        
        <button type="submit" class="reset-button">Reset Password</button>
      </form>
      <div style="margin-top: 10px;">
        <a href="/login" class="back-to-login-link">Back to Login</a>
      </div>
    </div>
  </div>

  <style>
    .reset-button {
      background-color: blue;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 4px;
    }

    .reset-button:hover {
      background-color: darkblue;
    }
    
    .error {
      color: red;
      font-size: 14px;
      margin-top: 5px;
    }

    .message {
      color: green;
      font-size: 14px;
      margin-top: 5px;
    }
  </style>

  <script>
    function validateForgotPasswordForm() {
      const email = document.querySelector('input[name="email"]').value.trim();
      const emailError = document.getElementById('emailError');
      
      emailError.textContent = '';

      let isValid = true;

      if (email === '') {
        emailError.textContent = 'Email field is required';
        isValid = false;
      } else {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          emailError.textContent = 'Enter a valid email';
          isValid = false;
        }
      }

      return isValid;
    }
  </script>
</body>
</html>
